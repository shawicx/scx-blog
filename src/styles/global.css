html {
  --at-apply: 'c-secondary antialiased';
  scrollbar-width: thin;
  scrollbar-color: oklch(var(--un-preset-theme-colors-secondary) / 0.25) transparent;
  scrollbar-gutter: stable;
}

/* Modern炫酷 animated background with dynamic patterns */
body {
  background:
    linear-gradient(125deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 20%),
    linear-gradient(235deg, rgba(125,125,255,0.05) 0%, rgba(255,255,255,0) 20%),
    linear-gradient(315deg, rgba(100,200,255,0.05) 0%, rgba(255,255,255,0) 20%),
    radial-gradient(circle at 10% 20%, rgba(255,200,125,0.05) 0%, rgba(255,255,255,0) 20%),
    radial-gradient(circle at 90% 80%, rgba(180,220,255,0.05) 0%, rgba(255,255,255,0) 20%),
    #f8fafc;
  background-attachment: fixed;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  animation: subtleShift 20s ease-in-out infinite;
}

html.dark body {
  background:
    linear-gradient(125deg, rgba(15,23,42,0.2) 0%, rgba(15,23,42,0) 20%),
    linear-gradient(235deg, rgba(60,60,120,0.1) 0%, rgba(15,23,42,0) 20%),
    linear-gradient(315deg, rgba(30,58,138,0.1) 0%, rgba(15,23,42,0) 20%),
    radial-gradient(circle at 10% 20%, rgba(99,102,241,0.1) 0%, rgba(15,23,42,0) 20%),
    radial-gradient(circle at 90% 80%, rgba(124,58,237,0.1) 0%, rgba(15,23,42,0) 20%),
    #0f172a;
  background-attachment: fixed;
  animation: subtleShift 20s ease-in-out infinite;
}

@keyframes subtleShift {
  0%, 100% { background-position: 0% 0%, 100% 0%, 0% 100%, 20% 80%, 80% 20%; }
  25% { background-position: 0% 2% , 100% 2% , 0% 98% , 22% 78%, 78% 22%; }
  50% { background-position: 2% 0% , 98% 0% , 2% 100%, 18% 82%, 82% 18%; }
  75% { background-position: 0% 2% , 100% 2% , 0% 98% , 22% 78%, 78% 22%; }
}

body::selection {
  --at-apply: 'bg-highlight';
}

/* Highlight Hover Animation >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> */
.highlight-static,
.highlight-hover {
  --at-apply: 'relative inline-block';
}
.highlight-static::after,
.highlight-hover::after {
  --at-apply: 'absolute left-0 z--1 h-0.5em w-full bg-highlight';
  content: '';
}
.highlight-static::after,
.highlight-hover:hover::after {
  --at-apply: 'origin-bottom-left scale-x-100';
}
.highlight-hover::after {
  --at-apply: 'origin-bottom-right scale-x-0 transition-transform ease-out lg:duration-300';
}

/* Heading Anchor Link >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> */
.heading-anchor-link {
  --at-apply: 'inline-block translate-y-0.1em';
}
h1:hover .heading-anchor-link svg,
h2:hover .heading-anchor-link svg,
h3:hover .heading-anchor-link svg,
h4:hover .heading-anchor-link svg {
  --at-apply: 'op-40';
}
.heading-anchor-link svg {
  --at-apply: 'ml-0.4em aspect-square w-0.9em op-0 transition-opacity ease-out active:scale-90';
}
h1:hover .heading-anchor-link svg:hover,
h2:hover .heading-anchor-link svg:hover,
h3:hover .heading-anchor-link svg:hover,
h4:hover .heading-anchor-link svg:hover {
  --at-apply: 'op-80';
}

/* Code Copy Button >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> */
.code-copy-button {
  --at-apply: 'absolute right-2.2 top-2.2 z-99 aspect-square w-8 cursor-pointer uno-round-border border-secondary/15';
  --at-apply: 'bg-background c-secondary/80 op-0 hover:(border-primary/15 c-primary/80)';
  transition: opacity 300ms ease-out, background-color 150ms ease-out;
}
.code-block-wrapper:hover .code-copy-button {
  --at-apply: 'op-100';
}
.code-copy-button.copy-success {
  --at-apply: 'border-none bg-emerald-600 c-background';
}
html.dark .code-copy-button.copy-success {
  --at-apply: 'bg-emerald-500';
}
.code-copy-button svg {
  --at-apply: 'mx-auto aspect-square w-50%';
}
.code-copy-button svg,
.code-copy-button svg path {
  --at-apply: 'pointer-events-none';
}
