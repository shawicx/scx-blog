---
export interface Props {
  title: string
  description: string
  href: string
  target?: '_blank' | '_self'
  variant?: 'default' | 'featured' | 'compact'
  external?: boolean
}

const {
  title,
  description,
  href,
  target = '_self',
  variant = 'default',
  external = false,
} = Astro.props
---

<a
  href={href}
  target={target}
  rel={external ? 'noopener noreferrer' : undefined}
  class:list={[
    'card-container',
    'group block p-6 rounded-lg border transition-all duration-200',
    'bg-white dark:bg-gray-800',
    'border-gray-200 dark:border-gray-700',
    'hover:border-primary hover:shadow-md',
    'hover:transform hover:scale-102',
    'focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2',
    {
      featured: variant === 'featured',
      compact: variant === 'compact',
    },
  ]}
>
  <div>
    <h3 class="card-title mb-2 text-xl c-primary font-semibold transition-colors">
      {title}
    </h3>
    <p class="card-description mb-3 text-sm c-secondary leading-relaxed">
      {description}
    </p>
    <div class="card-link flex items-center text-sm c-primary font-medium">
      {external ? '访问项目' : '了解更多'}
      <span class="ml-1 transition-transform duration-200 group-hover:translate-x-1">→</span>
      {external && (
        <span class="ml-2 text-xs c-secondary opacity-70">↗</span>
      )}
    </div>
  </div>
</a>

<style>
.card-container:hover .card-link span {
  transform: translateX(4px);
}

.featured {
  @apply border-primary shadow-lg;
}

.compact {
  @apply p-4;
}

.compact .card-title {
  @apply text-lg mb-1;
}

.compact .card-description {
  @apply text-xs mb-2;
}
</style>
